<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="header">
        <div>
            <ul id="navbar">
                <a href="#" id="close"><i class="fas fa-times"></i></a>
                <li class="logo"><a href="index.html"><img src="imagefolder/realritzy.webp" alt="Logo" /></a></li>
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a class="active" href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a></li>
            </ul>
        </div>
        <div id="mobile">
          <a href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
          <i id="bar" class="fas fa-bars"></i>
          
        </div>
    </section>

    <section id="page-header" class="about-header">
        <h2># Let's Talk</h2>
        <p>Leave a message, we love to hear from you!</p>
    </section>

    <section id="cart" class="section-p1">
        <table width="100%">
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Subtotal</td>
                </tr>
            </thead>
            <tbody id="cart-body"></tbody>
        </table>
    </section>

    <section id="cart-add" class="section-p1">
        <div id="coupon">
            <h3>Apply Coupon</h3>
            <div>
                <input type="text" placeholder="Enter Your Coupon">
                <button class="normal">Apply</button>
            </div>
        </div>
        <div id="Subtotal">
            <h3>Cart Total</h3>
            <table>
                <tr>
                    <td>Cart Subtotal</td>
                    <td id="cart-subtotal">Ksh 0</td>
                </tr>
                <tr>
                    <td>Shipping</td>
                    <td>Free</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td id="cart-total"><strong>Ksh 0</strong></td>
                </tr>
            </table>
            <button class="normal" onclick="payment();" id="checkoutBtn">Proceed to Checkout</button>
        </div>
        
    </section>

    <footer class="section-p1">
      <div class="col">
        <img class="logo" src=""alt"">
        <h4>Contact</h4>
        <p><strong>Adress: </strong> Mombasa Road</p>
        <p><strong>pbone: </strong>+254788898776</p>
        <p><strong>Hours</strong>24/7</p>
        <div class="follow">
          <h4>Follow us</h4>
          <div class="icon">
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-twitter"></i>
            <i class="fab fa-instagram"></i>

          </div>
        </div>
      </div>

      <div class="col">
        <h4>About</h4>
        <a href="#">About us</a>
        <a href="#">Delivery information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & conditions</a>
        <a href="#">Contact us</a>
      </div>

      <div class="col">
        <h4>My Account</h4>
        <a href="#">Sign in</a>
        <a href="#">View cart</a>
        <a href="#">My wishlist</a>
        <a href="#">Track my Order</a>
        <a href="#">Help</a>
      </div>

      <div class="col install">
        <h4>install App</h4>
        <p>From App Store or Google Play</p>
        <div class="row">
          <img src="" alt="">
          <img src="" alt="">
        </div>
        <p>Secure payment Gateaways</p>
        <img src="" alt="">
      </div>

        <div class="copyright">
            <p>@ 2024, myweb.com</p>
        </div>
    </footer>

    <script src="js.js"></script>

    <script>
        function payment(){
            
    
        // Create the modal container
        const modal = document.createElement('div');
        modal.id = 'paymentModal';
        modal.style.position = 'fixed';
        modal.style.top = '0';
        modal.style.left = '0';
        modal.style.width = '100%';
        modal.style.height = '100%';
        modal.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
        modal.style.zIndex = '1000';
        modal.style.display = 'flex';
        modal.style.alignItems = 'center';
        modal.style.justifyContent = 'center';
        

        // Create modal content
        const modalContent = document.createElement('div');
        modalContent.style.backgroundColor = 'white';
        modalContent.style.padding = '20px';
        modalContent.style.borderRadius = '10px';
        modalContent.style.width = '300px';
        modalContent.style.textAlign = 'center';
        modalContent.style.color='black';
        modalContent.style.fontSize='small';
        modalContent.style.marginBottom='15px'


        // Add title
        const title = document.createElement('h3');
        title.innerText = 'Select Payment Option';
        modalContent.appendChild(title);

        // Create radio buttons for payment options
        const paymentOptions = ['M-Pesa', 'Bank Transfer', 'Credit Card'];
        paymentOptions.forEach(option => {
            const label = document.createElement('label');
            const input = document.createElement('input');
            input.type = 'radio';
            input.name = 'paymentMethod'; // Only one can be selected due to same name
            input.value = option;
            label.style.color='black';
            

            label.appendChild(input);
            label.appendChild(document.createTextNode(option));
            modalContent.appendChild(label);
            modalContent.appendChild(document.createElement('br')); // Add line break
            
        });

        // Create confirm button
        const confirmBtn = document.createElement('button');
        confirmBtn.innerText = 'Confirm Payment';
        confirmBtn.style.fontSize='15px';
        confirmBtn.style.fontWeight='600';
        confirmBtn.style.backgroundColor= ' #0f9da7';
        confirmBtn.style.marginTop = '20px';
        confirmBtn.style.borderRadius='4px';
        confirmBtn.style.padding = '12px 20px';
        confirmBtn.style.color='white';
        confirmBtn.style.border='none';
        confirmBtn.onclick = function() {
            const selectedOption = document.querySelector('input[name="paymentMethod"]:checked');
            if (selectedOption) {
                alert(`You have selected   ${selectedOption.value} for payment.
                PAYMENT SUCCESSFUL!`);
                closeModal();
            } else {
                alert('Please select a payment method.');
            }
        };

        // Append confirm button to modal content
        modalContent.appendChild(confirmBtn);

        // Append modal content to modal container
        modal.appendChild(modalContent);

        // Append modal container to the body
        document.body.appendChild(modal);

        // Close modal function
        function closeModal() {
            document.body.removeChild(modal);
        }

        // Close modal when clicking outside the modal content
        modal.onclick = function(event) {
            if (event.target === modal) {
                closeModal();
            }
        };
    }

 
        
        function displayCart() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const cartBody = document.getElementById('cart-body');
            cartBody.innerHTML = ''; // Clear previous items
            let total = 0;

            cart.forEach((item, index) => {
                const subtotal = item.price * item.quantity;
                total += subtotal;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><a href="#" onclick="removeFromCart(${index})"><i class="fas fa-times-circle"></i></a></td>
                    <td><img src="${item.image}" alt="${item.name}"></td>
                    <td>${item.name}</td>
                    <td>Ksh ${item.price}</td>
                    <td><input type="number" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)"></td>
                    <td>Ksh ${subtotal}</td>
                `;
                cartBody.appendChild(row);
            });

            const totalRow = document.createElement('tr');
            totalRow.innerHTML = `<td colspan="5"><strong>Total</strong></td><td><strong>Ksh ${total}</strong></td>`;
            cartBody.appendChild(totalRow);

            document.getElementById('cart-subtotal').innerText = `Ksh ${total}`;
            document.getElementById('cart-total').innerText = `Ksh ${total}`;
        }

        function removeFromCart(index) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.splice(index, 1); // Remove item at index
            localStorage.setItem('cart', JSON.stringify(cart));
            displayCart(); // Refresh the cart display
        }

        function updateQuantity(index, quantity) {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (quantity <= 0) {
                removeFromCart(index); // Remove item if quantity is zero or less
            } else {
                cart[index].quantity = parseInt(quantity);
                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart(); // Refresh the cart display
            }
        }

        // Initial display of the cart
        displayCart();
    </script>
</body>
</html>

